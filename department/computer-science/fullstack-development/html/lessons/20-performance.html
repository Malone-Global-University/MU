<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lesson 20: Performance &amp; Optimization | Malone Global University</title>
  <meta name="description" content="Lesson 20 â€” Performance & Optimization: script loading (defer/async), resource hints, image formats & lazy-loading, font strategies, caching, minification, bundling, measuring with Lighthouse, and practical steps to optimize pages and deliver fast user experiences." />
  <link rel="icon" href="/image/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/component/css/main.css" />
  </head>

<body>

    <header class="navbar" role="navigation" aria-label="Main Navigation">
    <div class="logo-container">
      <a href="/index"><img src="/image/logo.png" alt="Malone University Logo" class="logo-img"></a>
      <span class="school-name"> Malone University</span>
    </div>

    <ul class="nav-links" id="nav-links">
      <li><a href="/contact">Contact</a></li>
      <li><a href="/about">About</a></li>
      <li><a href="/community/resources">Community</a></li>
      <li><a href="/index">Home</a></li>
      <li><a href="/mission">Mission</a></li>
      <li><a href="/library/directory">Library</a></li>
      <li><a href="/department/directory">Department</a></li>
      <li><a href="/devblog/live-journal">DevBlog</a></li>
     
    </ul>

    <div style="display:flex;align-items:center;">
      <div class="nav-toggle" id="nav-toggle" aria-label="Toggle menu" role="button" tabindex="0">
        <span></span><span></span><span></span>
      </div>

      <button id="theme-toggle" title="Toggle theme" aria-pressed="false">ðŸ’»</button>

    </div>
  </header>

 <main class="container">
   <!-- put generated lessons here -->

   <article class="lesson lesson-20">
     <h1>Lesson 20 â€” Performance &amp; Optimization</h1>
     <p class="meta">Stage 3 â€” Advanced â†’ Lesson 20 (Capstone: Portfolio Site)</p>

     <section>
       <h2>Overview</h2>
       <p>
         Fast pages are usable pages. This lesson teaches practical strategies to improve perceived and real performance:
         correct script loading (<code>defer</code> vs <code>async</code>), resource hints (<code>preload</code>, <code>preconnect</code>), image optimization and lazy-loading,
         font loading strategies, asset minification and bundling, caching and CDNs, server-side compression and headers, and measurement tools (Lighthouse, WebPageTest).
         We'll also cover common layout/UX metrics (LCP, FID/INP, CLS) and how to prioritize optimizations that most impact users.
       </p>
     </section>

     <section>
       <h2>Key metrics to understand</h2>
       <p>
         Measure before you optimize. Focus on metrics that matter to users:
       </p>
       <ul>
         <li><strong>LCP (Largest Contentful Paint)</strong> â€” how long before the main content is visible.</li>
         <li><strong>FID / INP (First Input Delay / Interaction to Next Paint)</strong> â€” responsiveness to user input.</li>
         <li><strong>CLS (Cumulative Layout Shift)</strong> â€” visual stability; avoid elements jumping around.</li>
         <li><strong>TTFB</strong> â€” server response latency.</li>
         <li><strong>Total page weight</strong> and number of requests â€” smaller and fewer is better.</li>
       </ul>
     </section>

     <section>
       <h2>Script loading: blocking, async, defer</h2>
       <p>
         Scripts can block HTML parsing and delay rendering. Choose loading attributes based on script purpose:
       </p>
       <ul>
         <li><code>&lt;script src="...">&lt;/script&gt;</code> (no attribute) â€” parser-blocking: avoid for non-critical scripts.</li>
         <li><code>async</code> â€” downloads and executes as soon as available, independent of parsing. Good for independent scripts (analytics). Not safe for scripts that depend on DOM or other scripts.</li>
         <li><code>defer</code> â€” downloads during parsing but executes after parsing completes, in order. Great for application scripts that need DOM but don't need to block rendering.</li>
       </ul>

<pre><code>&lt;!-- analytics: async (independent) --&gt;
&lt;script src="/js/analytics.js" async&gt;&lt;/script&gt;

&lt;!-- app scripts: defer to preserve order and run after parse --&gt;
&lt;script src="/js/lib.js" defer&gt;&lt;/script&gt;
&lt;script src="/js/main.js" defer&gt;&lt;/script&gt;
</code></pre>

       <p>
         Prefer <code>defer</code> for your main application JS. Use <code>async</code> only for scripts that are independent and do not rely on document structure or other scripts.
       </p>
     </section>

     <section>
       <h2>Resource hints â€” preload, preconnect, dns-prefetch, prefetch</h2>
       <p>
         Resource hints let the browser prepare for resources you know you'll need. Use them sparingly for high-impact assets:
       </p>
       <ul>
         <li><code>preconnect</code> â€” establish network connection early (DNS, TCP, TLS) for cross-origin origins you will request (fonts, CDNs). Example:
<pre><code>&lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;</code></pre>
         </li>
         <li><code>dns-prefetch</code> â€” less aggressive than preconnect, resolves DNS early:
<pre><code>&lt;link rel="dns-prefetch" href="//example-cdn.com"&gt;</code></pre>
         </li>
         <li><code>preload</code> â€” fetch a critical resource with priority (fonts, hero image, critical CSS, critical script). Always include <code>as</code> to indicate resource type:
<pre><code>&lt;link rel="preload" href="/fonts/Inter.woff2" as="font" type="font/woff2" crossorigin&gt;</code></pre>
         </li>
         <li><code>prefetch</code> â€” low-priority fetch for future navigations (next-page resources).</li>
       </ul>

       <p><strong>Warning:</strong> overuse of preload harms performance (wastes bandwidth and competes with other resources). Preload the few assets that directly affect initial render (hero image, critical font, critical script).</p>
     </section>

     <section>
       <h2>Images: formats, responsive images, and lazy-loading</h2>
       <p>
         Images are often the largest bytes on a page. Optimize them by choosing modern formats, sizing correctly, and deferring offscreen images.
       </p>

       <h3>Use modern formats</h3>
       <p>Prefer WebP/AVIF (smaller) while providing fallbacks for older browsers.</p>
<pre><code>&lt;picture&gt;
  &lt;source srcset="/images/hero.avif" type="image/avif"&gt;
  &lt;source srcset="/images/hero.webp" type="image/webp"&gt;
  &lt;img src="/images/hero.jpg" alt="Campus at sunrise" width="1200" height="600" loading="eager"&gt;
&lt;/picture&gt;
</code></pre>

       <h3>Responsive images (srcset + sizes)</h3>
<pre><code>&lt;img
  src="/images/card-800.jpg"
  srcset="/images/card-400.jpg 400w, /images/card-800.jpg 800w, /images/card-1200.jpg 1200w"
  sizes="(max-width:600px) 100vw, 33vw"
  alt="Event poster"
  loading="lazy"
  width="1200" height="800"
&gt;
</code></pre>

       <h3>Lazy-loading</h3>
       <p>Use native lazy-loading for non-critical images and iframes via <code>loading="lazy"</code>. Keep critical images (hero images) eager or preload them.</p>

<pre><code>&lt;img src="/images/thumb.jpg" alt="Thumbnail" loading="lazy"&gt;
&lt;iframe src="https://example.com/map" loading="lazy" title="Campus map"&gt;&lt;/iframe&gt;
</code></pre>

       <h3>Reserve space to avoid CLS</h3>
       <p>Always include <code>width</code> and <code>height</code> attributes or use CSS <code>aspect-ratio</code> so the browser can reserve layout space and prevent layout shifts.</p>
     </section>

     <section>
       <h2>Fonts â€” loading strategies &amp; font-display</h2>
       <p>
         Web fonts can block text rendering or cause Flash Of Invisible Text (FOIT). Use these tactics:
       </p>
       <ul>
         <li><strong>Preload critical fonts</strong> (subset lightweight variants) with <code>&lt;link rel="preload" as="font"&gt;</code> and <code>crossorigin</code> if needed.</li>
         <li><strong>font-display</strong>: set <code>font-display:swap</code> in @font-face to avoid FOIT (shows fallback first, swaps to web font later).</li>
         <li><strong>Subset fonts</strong> to include only needed glyphs to lower size.</li>
         <li>Consider system fonts for fastest rendering when branding allows.</li>
       </ul>

<pre><code>@font-face {
  font-family: "InterVar";
  src: url("/fonts/inter-var.woff2") format("woff2");
  font-display: swap;
}
&lt;link rel="preload" href="/fonts/inter-var.woff2" as="font" type="font/woff2" crossorigin&gt;
</code></pre>
     </section>

     <section>
       <h2>CSS: critical CSS and non-blocking styles</h2>
       <p>
         CSS is render-blocking by default. Reduce critical CSS and defer non-critical styles:
       </p>
       <ul>
         <li>Inline small critical CSS needed for above-the-fold content directly in the head.</li>
         <li>Load non-critical CSS asynchronously (media="print" technique or JS loading patterns) or use <code>rel="preload" as="style"</code> then swap to <code>rel="stylesheet"</code>.</li>
         <li>Minify and combine stylesheets where it makes sense; avoid hundreds of tiny CSS files.</li>
       </ul>

<pre><code>&lt;!-- inline critical styles for header/hero --&gt;
&lt;style&gt;/* small critical CSS */&lt;/style&gt;

&lt;link rel="preload" href="/css/main.css" as="style" onload="this.rel='stylesheet'">
&lt;noscript&gt;&lt;link rel="stylesheet" href="/css/main.css"&gt;&lt;/noscript&gt;
</code></pre>
     </section>

     <section>
       <h2>Bundling, minification, and code-splitting</h2>
       <p>
         Build tooling reduces bytes and requests. Consider:
       </p>
       <ul>
         <li><strong>Minify</strong> HTML, CSS, and JS.</li>
         <li><strong>Bundle</strong> small modules together to reduce request overhead, but avoid shipping huge bundles â€” balance bundle size with number of requests.</li>
         <li><strong>Code-splitting</strong> â€” deliver only the JS needed for initial render and lazy-load feature code (route-based splitting).</li>
         <li><strong>Tree-shaking</strong> â€” remove unused exports in bundling step.</li>
         <li>Use modern bundlers (esbuild, Vite, Rollup, Webpack with optimizations) and set production modes that enable minification and sourcemap strategies.</li>
       </ul>
     </section>

     <section>
       <h2>Caching, CDNs, and server-side headers</h2>
       <p>
         Proper caching reduces repeat-load time. Use CDNs for static assets and configure caching headers:
       </p>
       <ul>
         <li><code>Cache-Control</code>: set long max-age for immutable hashed assets (e.g., <code>Cache-Control: public, max-age=31536000, immutable</code>).</li>
         <li><code>ETag</code> or <code>Last-Modified</code>: enable efficient validation for resources that change occasionally.</li>
         <li><strong>CDNs</strong> reduce latency and offload traffic; use them for images, video, JS/CSS assets.</li>
         <li>Use Brotli or Gzip compression for text-based resources (HTML/CSS/JS) at the server level.</li>
       </ul>
     </section>

     <section>
       <h2>Service workers & offline caching (PWA techniques)</h2>
       <p>
         Service workers enable fine-grained caching strategies, offline capabilities, and background sync. Use them carefully:
       </p>
       <ul>
         <li>Cache critical shell files for instant reloads (App Shell).</li>
         <li>Use cache-first for static assets and network-first for API data where freshness matters.</li>
         <li>Be careful with aggressive caching â€” implement cache versioning and update flows to avoid serving stale content.</li>
       </ul>
     </section>

     <section>
       <h2>Media & streaming optimizations</h2>
       <p>
         For media-heavy sites, apply streaming and adaptive strategies:
       </p>
       <ul>
         <li>Use adaptive streaming (HLS/DASH) for long videos â€” delivers appropriate bitrate for user's connection.</li>
         <li>Transcode and provide multiple bitrates and resolutions.</li>
         <li>Use CDN edge caching and set correct cache headers for media.</li>
         <li>Lazy-load media players and use poster images to reduce initial payload.</li>
       </ul>
     </section>

     <section>
       <h2>Reduce render-blocking resources & prioritize critical work</h2>
       <p>
         The browser must parse HTML, CSS, and blocking scripts to render. Reduce render-blocking by:
       </p>
       <ul>
         <li>Inlining minimal critical CSS for first paint.</li>
         <li>Deferring non-critical scripts (<code>defer</code>), or loading them after interaction.</li>
         <li>Preloading only the assets that are critical for initial rendering (hero images, critical fonts).</li>
       </ul>
     </section>

     <section>
       <h2>Measuring performance â€” tools & workflow</h2>
       <p>
         Use automated and manual tools to measure improvement:
       </p>
       <ul>
         <li><strong>Lighthouse</strong> â€” audit score for performance, accessibility, best practices, and SEO. Run in Chrome DevTools or CLI.</li>
         <li><strong>WebPageTest</strong> â€” real-world waterfall, filmstrip, and time-to-first-byte analysis across locations and device types.</li>
         <li><strong>Field data</strong> â€” collect Real User Monitoring (RUM) metrics (CrUX, custom analytics) to know actual user experience.</li>
         <li>Iterate: measure â†’ optimize â†’ measure again. Target the few changes that meaningfully improve LCP, INP, and CLS first.</li>
       </ul>

       <p><strong>Quick Lighthouse command:</strong> use Chrome DevTools (Audits tab) or run from the command line with <code>npx lighthouse https://example.org --view</code>.</p>
     </section>

     <section>
       <h2>Common performance anti-patterns</h2>
       <ul>
         <li>Shipping large monolithic JS bundles on initial load.</li>
         <li>Loading unnecessary fonts or very large font families without subsetting.</li>
         <li>Not reserving image or iframe space â€” causing CLS.</li>
         <li>Overusing <code>preload</code> for many resources (wasteful).</li>
         <li>Serving unoptimized images or not using modern formats.</li>
       </ul>
     </section>

     <section>
       <h2>Practice</h2>
       <ol>
         <li>Create <code>20-performance-practice.html</code> and perform this guided exercise:
           <ul>
             <li>Start with a baseline: run Lighthouse and record LCP, INP/FID, CLS, TTFB, and overall performance score.</li>
             <li>Implement three targeted optimizations (pick from below):<br>
               <ul>
                 <li>Change blocking scripts to <code>defer</code> or code-split them.</li>
                 <li>Preload critical font and set <code>font-display: swap</code>.</li>
                 <li>Convert hero image to WebP/AVIF and add responsive <code>srcset</code> plus <code>loading</code> attributes.</li>
                 <li>Inline small critical CSS for the above-the-fold area and defer the main stylesheet.</li>
               </ul>
             </li>
             <li>Re-run Lighthouse and compare metrics. Note improvements and any regressions.</li>
           </ul>
         </li>

         <li>Optional advanced tasks:
           <ul>
             <li>Set up a simple service worker that caches shell assets and serves them from cache-first strategy.</li>
             <li>Integrate a CDN and observe reduced TTFB from a different geographical location.</li>
             <li>Implement a RUM snippet to collect LCP/CLS/INP from real users and inspect CrUX-like data.</li>
           </ul>
         </li>

         <li>Checklist before publishing:</li>
           <ul>
             <li>All images optimized and responsive; hero images preloaded if critical.</li>
             <li>Fonts preloaded/subset and <code>font-display</code> set.</li>
             <li>Scripts loaded with <code>defer</code> or <code>async</code> appropriately; heavy code split.</li>
             <li>Cache headers and compression enabled on the server (Brotli/Gzip).</li>
             <li>Critical CSS inlined; non-critical CSS deferred.</li>
             <li>No unexpected layout shifts â€” include width/height or aspect-ratio for media.</li>
           </ul>
       </ol>
     </section>

     <section>
       <h2>Key Takeaways</h2>
       <ul>
         <li>Measure before optimizing â€” focus on LCP, INP/FID, and CLS to improve user-perceived performance.</li>
         <li>Load scripts with <code>defer</code> for app code and <code>async</code> for independent scripts; avoid parser-blocking scripts in the head.</li>
         <li>Optimize images (AVIF/WebP), use responsive <code>srcset</code>, lazy-load offscreen images, and always reserve layout space to avoid CLS.</li>
         <li>Preload a small set of critical assets (fonts, hero image) and preconnect to important origins sparingly.</li>
         <li>Use CDNs, caching headers, and server compression (Brotli/Gzip) to reduce network latency and bandwidth.</li>
         <li>Iterate with Lighthouse/WebPageTest and, when possible, gather real-user metrics to validate improvements in the field.</li>
       </ul>
     </section>

     <section>
       <h2>Capstone & Next Steps</h2>
       <p>
         With performance fundamentals complete, build your Capstone â€” the <strong>Portfolio Site</strong>.
         Apply the techniques from this lesson to ensure your portfolio loads quickly, has minimal layout shift, and feels responsive.
         Good portfolio candidates: optimized hero image, deferred heavy scripts, critical CSS inlined, correct caching, and accessible media handling from previous lessons.
       </p>
       <p>
         <a href="/projects/portfolio-site.html">Begin Capstone: Portfolio Site</a>
       </p>
     </section>

   </article>

 </main>
  

  <footer>
    <p>Â© 2025 Malone University. Building the future, on our own terms.</p>
    <p>
      <a href="https://twitter.com/MaloneGlobal" target="_blank" rel="noopener noreferrer">Twitter</a> |
      <a href="https://facebook.com/YOUR_HANDLE" target="_blank" rel="noopener noreferrer">Facebook</a> |
      <a href="https://instagram.com/maloneglobaluniversity" target="_blank" rel="noopener noreferrer">Instagram</a> |
      <a href="/terms.html">Terms</a> |
      <a href="/contact.html">Contact</a>
    </p>


<p>Content updated: 8/20/2025<br>
   Layout updated: 8/20/2025</p>

  </footer>
   
<script src="/component/script/js/main.js"></script>
</body>
</html>
